(this["webpackJsonpusers-app"]=this["webpackJsonpusers-app"]||[]).push([[0],{14:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(4),i=r.n(s),o=(r(14),r(9)),c=r(2),d=r(0),l=function(e){var t=e.type,r=e.className,n=e.children,a=e.onButtonClick;return Object(d.jsx)("button",{type:t,className:"btn ".concat(r),onClick:a,children:n})},u=function(e){var t=e.isEditing,r=e.idOfUserBeingEdited,a=e.previousUsername,s=e.previousAge,i=e.onAddUser,o=e.onEditUser,u=Object(n.useState)(""),j=Object(c.a)(u,2),b=j[0],m=j[1],f=Object(n.useState)(""),O=Object(c.a)(f,2),g=O[0],h=O[1],p=Object(n.useState)(a),x=Object(c.a)(p,2),v=x[0],U=x[1],y=Object(n.useState)(s),E=Object(c.a)(y,2),N=E[0],C=E[1],k=Object(n.useState)(t),_=Object(c.a)(k,2),A=_[0],S=_[1];return Object(n.useEffect)((function(){S(t),U(a),C(s)}),[t,a,s]),Object(d.jsxs)("form",{className:"add-user-form",onSubmit:e.onAddUser,children:[Object(d.jsxs)("div",{className:"form-controls",children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(d.jsx)("input",{type:"text",id:"username",className:"username-input",value:A?v:b,onChange:function(e){A?U(e.target.value):m(e.target.value)}})]}),Object(d.jsxs)("div",{className:"form-controls",children:[Object(d.jsx)("label",{htmlFor:"age",children:"Age (years):"}),Object(d.jsx)("input",{type:"number",id:"age",className:"age-input",value:A?N:g,onChange:function(e){A?C(e.target.value):h(e.target.value)}})]}),Object(d.jsx)(l,{type:"submit",className:"btn ".concat(A?"btn-edit":"btn-primary"),onButtonClick:function(e){!function(e){e.preventDefault(),A?(o(r,v,N),U(""),C("")):(i(b,g),m(""),h(""))}(e)},children:A?"Edit User":"Add User"})]})},j=function(e){var t=e.onAddUser,r=e.onEditUser,n=e.isEditing,a=e.idOfUserBeingEdited,s=e.previousUsername,i=e.previousAge;return Object(d.jsx)("div",{className:"add-user",children:Object(d.jsx)(u,{onAddUser:t,onEditUser:r,isEditing:n,idOfUserBeingEdited:a,previousUsername:s,previousAge:i})})},b=r(8),m=r.n(b),f=function(e){var t=e.children;return Object(d.jsx)("div",{className:m.a.card,children:t})},O=r(3),g=r.n(O),h=function(e){var t=e.onConfirm;return Object(d.jsx)("div",{className:g.a.backdrop,onClick:t})},p=function(e){var t=e.errorTitle,r=e.errorText,n=e.onConfirm;return Object(d.jsx)("div",{className:g.a["error-modal"],children:Object(d.jsxs)(f,{children:[Object(d.jsx)("header",{className:g.a["modal-header"],children:Object(d.jsx)("h2",{children:t})}),Object(d.jsx)("main",{className:g.a["modal-content"],children:r}),Object(d.jsx)("footer",{className:g.a["error-footer"],children:Object(d.jsx)(l,{type:"button",className:"btn-error",onButtonClick:n,children:"Okay"})})]})})},x=function(e){var t=e.errorTitle,r=e.errorText,n=e.onConfirm;return Object(d.jsxs)(d.Fragment,{children:[i.a.createPortal(Object(d.jsx)(h,{onConfirm:n}),document.getElementById("backdrop-root")),i.a.createPortal(Object(d.jsx)(p,{errorTitle:t,errorText:r,onConfirm:n}),document.getElementById("overlay-root"))]})},v=function(e){var t=e.id,r=e.name,n=e.age,a=e.onUserEdit,s=e.onUserDelete;return Object(d.jsxs)("li",{className:"users-item",children:[Object(d.jsxs)("div",{className:"users-info",children:["User: ",r,", Age: ",n," (years)"]}),Object(d.jsxs)("div",{className:"users-buttons",children:[Object(d.jsx)(l,{type:"button",className:"btn-edit",onButtonClick:function(){a(t,r,n)},children:"Edit"}),Object(d.jsx)(l,{type:"button",className:"btn-delete",onButtonClick:function(){s(t)},children:"Delete"})]})]})},U=function(e){var t=e.users,r=e.onUserDelete,n=e.onUserEdit,a=function(e){r(e)},s=function(e,t,r){n(e,t,r)};return Object(d.jsx)("ul",{className:"users-list",children:t.map((function(e){return Object(d.jsx)(v,{id:e.id,name:e.username,age:e.age,onUserDelete:a,onUserEdit:s},e.id)}))})},y=[{id:"id1",username:"Dmitry Doroshko",age:22},{id:"id2",username:"Oleg Yermolenko",age:21},{id:"id3",username:"Viktor Ralchenko",age:43},{id:"id4",username:"Lionel Messi",age:34}],E=r(18),N=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(y),i=Object(c.a)(s,2),l=i[0],u=i[1],b=Object(n.useState)(!1),m=Object(c.a)(b,2),f=m[0],O=m[1],g=Object(n.useState)(-1),h=Object(c.a)(g,2),p=h[0],v=h[1],N=Object(n.useState)(""),C=Object(c.a)(N,2),k=C[0],_=C[1],A=Object(n.useState)(""),S=Object(c.a)(A,2),B=S[0],T=S[1];return Object(d.jsxs)("div",{className:"app",children:[r?Object(d.jsx)(x,{errorTitle:r.title,errorText:r.text,onConfirm:function(){if(!r){a({title:"Something went wrong",text:"Please try again..."})}a(null)}}):"",Object(d.jsx)(j,{error:r,onAddUser:function(e,t){var r=function(e){return"string"!==typeof e?(a({title:"Invalid type of name",text:"Username should be of type string... Try again please"}),!1):0!==e.trim().length||(a({title:"Invalid length of username",text:"Username length should be valid (more than 0 characters)... Try again please"}),!1)}(e),n=function(e){return"number"!==typeof e?(a({title:"Invalid type of age",text:"Age should be of type number... Try again please"}),!1):!(+e<0)||(a({title:"Invalid age",text:"Age should be valid (not less than 0)... Try again please"}),!1)}(+t);if(r&&n){var s={id:Object(E.a)(),age:t,username:e};u((function(e){return[].concat(Object(o.a)(e),[s])}))}},onEditUser:function(e,t,r){t&&r?(O(!1),u((function(n){return n.map((function(n){return n.id===e?{id:e,username:t,age:+r}:n}))}))):O(!1)},isEditing:f,idOfUserBeingEdited:p,previousUsername:k,previousAge:B}),Object(d.jsx)(U,{users:l,onUserDelete:function(e){-1!==l.findIndex((function(t){return t.id===e}))&&u((function(t){return t.filter((function(t){return t.id!==e}))}))},onUserEdit:function(e,t,r){O(!0),v(e),_(t),T(r)}})]})};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root"))},3:function(e,t,r){e.exports={backdrop:"ErrorModal_backdrop__1Kvfy","error-modal":"ErrorModal_error-modal__1abCO","modal-header":"ErrorModal_modal-header__1QfCf","modal-content":"ErrorModal_modal-content__256IC","error-footer":"ErrorModal_error-footer__1cXVM"}},8:function(e,t,r){e.exports={card:"Card_card__3bayJ"}}},[[16,1,2]]]);
//# sourceMappingURL=main.e6883b92.chunk.js.map